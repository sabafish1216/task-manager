{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit';\nconst defaultCategories = [{\n  id: '1',\n  name: '仕事',\n  color: '#1976d2',\n  createdAt: new Date().toISOString(),\n  updatedAt: new Date().toISOString()\n}, {\n  id: '2',\n  name: 'プライベート',\n  color: '#dc004e',\n  createdAt: new Date().toISOString(),\n  updatedAt: new Date().toISOString()\n}, {\n  id: '3',\n  name: '学習',\n  color: '#388e3c',\n  createdAt: new Date().toISOString(),\n  updatedAt: new Date().toISOString()\n}];\nconst initialState = {\n  categories: defaultCategories,\n  loading: false,\n  error: null\n};\nconst categorySlice = createSlice({\n  name: 'categories',\n  initialState,\n  reducers: {\n    addCategory: (state, action) => {\n      console.log('addCategory reducer called', action.payload);\n      const newCategory = {\n        ...action.payload,\n        id: Date.now().toString(),\n        createdAt: new Date().toISOString(),\n        updatedAt: new Date().toISOString()\n      };\n      console.log('New category created', newCategory);\n      state.categories.push(newCategory);\n      console.log('Categories after push', state.categories);\n    },\n    updateCategory: (state, action) => {\n      const {\n        id,\n        updates\n      } = action.payload;\n      const categoryIndex = state.categories.findIndex(category => category.id === id);\n      if (categoryIndex !== -1) {\n        state.categories[categoryIndex] = {\n          ...state.categories[categoryIndex],\n          ...updates,\n          updatedAt: new Date().toISOString()\n        };\n      }\n    },\n    deleteCategory: (state, action) => {\n      state.categories = state.categories.filter(category => category.id !== action.payload);\n    }\n  }\n});\nexport const {\n  addCategory,\n  updateCategory,\n  deleteCategory\n} = categorySlice.actions;\nexport default categorySlice.reducer;","map":{"version":3,"names":["createSlice","defaultCategories","id","name","color","createdAt","Date","toISOString","updatedAt","initialState","categories","loading","error","categorySlice","reducers","addCategory","state","action","console","log","payload","newCategory","now","toString","push","updateCategory","updates","categoryIndex","findIndex","category","deleteCategory","filter","actions","reducer"],"sources":["/Users/sabafish1028/Programs/Hobby/task-manager/src/store/categorySlice.ts"],"sourcesContent":["import { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { Category, CategoryState } from '../types/category';\n\nconst defaultCategories: Category[] = [\n  {\n    id: '1',\n    name: '仕事',\n    color: '#1976d2',\n    createdAt: new Date().toISOString(),\n    updatedAt: new Date().toISOString(),\n  },\n  {\n    id: '2',\n    name: 'プライベート',\n    color: '#dc004e',\n    createdAt: new Date().toISOString(),\n    updatedAt: new Date().toISOString(),\n  },\n  {\n    id: '3',\n    name: '学習',\n    color: '#388e3c',\n    createdAt: new Date().toISOString(),\n    updatedAt: new Date().toISOString(),\n  },\n];\n\nconst initialState: CategoryState = {\n  categories: defaultCategories,\n  loading: false,\n  error: null,\n};\n\nconst categorySlice = createSlice({\n  name: 'categories',\n  initialState,\n  reducers: {\n    addCategory: (state, action: PayloadAction<Omit<Category, 'id' | 'createdAt' | 'updatedAt'>>) => {\n      console.log('addCategory reducer called', action.payload);\n      const newCategory: Category = {\n        ...action.payload,\n        id: Date.now().toString(),\n        createdAt: new Date().toISOString(),\n        updatedAt: new Date().toISOString(),\n      };\n      console.log('New category created', newCategory);\n      state.categories.push(newCategory);\n      console.log('Categories after push', state.categories);\n    },\n    updateCategory: (state, action: PayloadAction<{ id: string; updates: Partial<Omit<Category, 'id' | 'createdAt'>> }>) => {\n      const { id, updates } = action.payload;\n      const categoryIndex = state.categories.findIndex(category => category.id === id);\n      if (categoryIndex !== -1) {\n        state.categories[categoryIndex] = {\n          ...state.categories[categoryIndex],\n          ...updates,\n          updatedAt: new Date().toISOString(),\n        };\n      }\n    },\n    deleteCategory: (state, action: PayloadAction<string>) => {\n      state.categories = state.categories.filter(category => category.id !== action.payload);\n    },\n  },\n});\n\nexport const { addCategory, updateCategory, deleteCategory } = categorySlice.actions;\nexport default categorySlice.reducer; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}